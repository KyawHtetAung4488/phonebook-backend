{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Filter","filterName","handleFilterName","value","onChange","PersonForm","newName","newNum","handleNewName","handleNewNum","handleAddName","type","onClick","Persons","phoneList","onDelete","map","person","key","name","number","id","axios","get","then","response","data","newObject","post","delete","Notification","noti","className","Error","message","App","useState","persons","setPersons","useEffect","personService","initialPerson","setNewName","setNewNum","setFilterName","setMessage","errorMessage","setErrorMessage","filter","item","toLowerCase","search","event","target","preventDefault","phoneObject","isExist","forEach","alert","concat","setTimeout","catch","error","deletedPerson","find","n","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3d8a18fc.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filterName, handleFilterName}) => {\n    return (\n    <div>\n        filter shown with : <input value={filterName} onChange={handleFilterName} />\n    </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({newName, newNum, handleNewName, handleNewNum, handleAddName}) => {\n    return (\n        <form>\n            <div>\n                name: <input value={newName} onChange={handleNewName} />\n            </div>\n            <div>\n                number: <input value={newNum} onChange={handleNewNum} />\n            </div>\n            <div>\n                <button type=\"submit\" onClick={handleAddName}>add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({phoneList, onDelete}) => {\n    return (\n        <div>\n            {\n                phoneList.map((person) => {\n                    return (\n                        <p key={person.name}>\n                            {person.name} {person.number}\n\n                            <button onClick={onDelete(person.id)}>Delete</button>\n                        </p>\n                    )\n                })\n            }\n        </div>\n    )\n}\n\nexport default Persons","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst remove = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, remove }","import React from 'react'\n\nconst Notification = ({noti}) => {\n    if(noti === null || noti === '')\n    {\n        return null\n    }\n    else{\n        return (\n            <div className=\"noti\">\n                {noti}\n            </div>\n        )\n    }\n}\n\nexport default Notification","import React from 'react'\n\nconst Error = ({message}) => {\n    if(message === null || message === ''){\n        return null\n    }\n    else{\n        return (\n            <div className=\"error\">\n                {message}\n            </div>\n        )\n    }\n}\n\nexport default Error","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons';\nimport personService from './services/persons'\nimport Notification from './components/Notification';\nimport Error from './components/Error'\nimport './index.css'\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([])\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPerson => {\n        setPersons(initialPerson)\n      })\n  },[])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [ filterName, setFilterName ] = useState('')\n  const [ message, setMessage ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState('') \n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNum = (event) => {\n    setNewNum(event.target.value)\n  }\n\n  const handleFilterName = (event) => {\n    setFilterName(event.target.value)\n  }\n\n  const phoneList = filterName === \"\"\n  ? persons\n  : persons.filter(\n    item => item.name.toLowerCase().search(filterName.toLowerCase()) !== -1\n  )\n\n\n  const handleAddName = (event) => {\n    event.preventDefault()\n    const phoneObject = {\n      name: newName,\n      number: newNum,\n    }\n\n    personService\n      .create(phoneObject)\n      .then(initialPerson => {\n\n        const isExist = {}\n\n        persons.forEach(({name}) => {\n          isExist[name] = name === newName ? true : false\n        })\n    \n        isExist[newName] \n          ? alert(`${newName} is already added to phonebook`)\n          : setPersons(persons.concat(initialPerson))\n        setNewName('')\n        setNewNum('')\n          })\n      .then(()=> {\n        setMessage(          \n          `'${phoneObject.name}' was added to server`        \n          )        \n          setTimeout(() => \n          {          \n            setMessage(null)        \n          }, 5000)\n      })\n      .catch(error=>{\n        setErrorMessage(          \n          `Information of name or number is missing`        \n          )    \n          setTimeout(() => \n          {          \n            setErrorMessage(null)        \n          }, 5000)\n      })\n  }\n\n  const onDelete = (id) => () => {\n    const deletedPerson = persons.find(n=> n.id === id)\n    if(window.confirm('Are you sure to delete')){\n      personService\n        .remove(id)\n        .then(\n          setPersons(persons.filter(person => person.id !== id))\n        )\n        .catch(error=> {\n          setErrorMessage(          \n            `Information of '${deletedPerson.name}' has already been deleted from server`        \n            )    \n            setTimeout(() => \n            {          \n              setErrorMessage(null)        \n            }, 5000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification noti={message} />\n      <Error message={errorMessage} />\n\n      <Filter handleFilterName={handleFilterName} filterName={filterName} />\n\n      <h3>add a new</h3>\n\n      <PersonForm\n        newName={newName}\n        newNum={newNum}\n        handleNewName={handleNewName}\n        handleNewNum={handleNewNum}\n        handleAddName={handleAddName}\n      />\n      \n      <h3>Numbers</h3>\n      \n      <Persons phoneList={phoneList} onDelete={onDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}