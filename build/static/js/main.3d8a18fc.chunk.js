(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),o=t.n(u),c=t(2),l=function(e){var n=e.filterName,t=e.handleFilterName;return r.a.createElement("div",null,"filter shown with : ",r.a.createElement("input",{value:n,onChange:t}))},i=function(e){var n=e.newName,t=e.newNum,a=e.handleNewName,u=e.handleNewNum,o=e.handleAddName;return r.a.createElement("form",null,r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:t,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:o},"add")))},m=function(e){var n=e.phoneList,t=e.onDelete;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement("p",{key:e.name},e.name," ",e.number,r.a.createElement("button",{onClick:t(e.id)},"Delete"))})))},f=t(3),s=t.n(f),d=function(){return s.a.get("/api/persons").then((function(e){return e.data}))},h=function(e){return s.a.post("/api/persons",e).then((function(e){return e.data}))},v=function(e){return s.a.delete("".concat("/api/persons","/").concat(e))},b=function(e){var n=e.noti;return null===n||""===n?null:r.a.createElement("div",{className:"noti"},n)},E=function(e){var n=e.message;return null===n||""===n?null:r.a.createElement("div",{className:"error"},n)},p=(t(36),function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1];Object(a.useEffect)((function(){d().then((function(e){u(e)}))}),[]);var o=Object(a.useState)(""),f=Object(c.a)(o,2),s=f[0],p=f[1],N=Object(a.useState)(""),w=Object(c.a)(N,2),j=w[0],O=w[1],g=Object(a.useState)(""),k=Object(c.a)(g,2),C=k[0],y=k[1],S=Object(a.useState)(""),D=Object(c.a)(S,2),L=D[0],A=D[1],I=Object(a.useState)(""),T=Object(c.a)(I,2),F=T[0],J=T[1],x=""===C?t:t.filter((function(e){return-1!==e.name.toLowerCase().search(C.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(b,{noti:L}),r.a.createElement(E,{message:F}),r.a.createElement(l,{handleFilterName:function(e){y(e.target.value)},filterName:C}),r.a.createElement("h3",null,"add a new"),r.a.createElement(i,{newName:s,newNum:j,handleNewName:function(e){p(e.target.value)},handleNewNum:function(e){O(e.target.value)},handleAddName:function(e){e.preventDefault();var n={name:s,number:j};h(n).then((function(e){var n={};t.forEach((function(e){var t=e.name;n[t]=t===s})),n[s]?alert("".concat(s," is already added to phonebook")):u(t.concat(e)),p(""),O("")})).then((function(){A("'".concat(n.name,"' was added to server")),setTimeout((function(){A(null)}),5e3)})).catch((function(e){J("Information of name or number is missing"),setTimeout((function(){J(null)}),5e3)}))}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(m,{phoneList:x,onDelete:function(e){return function(){var n=t.find((function(n){return n.id===e}));window.confirm("Are you sure to delete")&&v(e).then(u(t.filter((function(n){return n.id!==e})))).catch((function(e){J("Information of '".concat(n.name,"' has already been deleted from server")),setTimeout((function(){J(null)}),5e3)}))}}}))});o.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.3d8a18fc.chunk.js.map