(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),c=t.n(u),l=t(2),o=function(e){var n=e.filterName,t=e.handleFilterName;return r.a.createElement("div",null,"filter shown with : ",r.a.createElement("input",{value:n,onChange:t}))},i=function(e){var n=e.newName,t=e.newNum,a=e.handleNewName,u=e.handleNewNum,c=e.handleAddName;return r.a.createElement("form",null,r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:t,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:c},"add")))},m=function(e){var n=e.phoneList,t=e.onDelete;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement("p",{key:e.name},e.name," ",e.number,r.a.createElement("button",{onClick:t(e.id)},"Delete"))})))},f=t(3),d=t.n(f),s=function(){return d.a.get("/api/persons").then((function(e){return e.data}))},h=function(e){return d.a.post("/api/persons",e).then((function(e){return e.data}))},v=function(e){return d.a.delete("".concat("/api/persons","/").concat(e))},b=function(e){var n=e.noti;return null===n||""===n?null:r.a.createElement("div",{className:"noti"},n)},E=function(e){var n=e.message;return null===n||""===n?null:r.a.createElement("div",{className:"error"},n)},p=(t(36),function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1];Object(a.useEffect)((function(){s().then((function(e){u(e)}))}),[]);var c=Object(a.useState)(""),f=Object(l.a)(c,2),d=f[0],p=f[1],N=Object(a.useState)(""),w=Object(l.a)(N,2),j=w[0],O=w[1],g=Object(a.useState)(""),k=Object(l.a)(g,2),C=k[0],y=k[1],S=Object(a.useState)(""),D=Object(l.a)(S,2),L=D[0],A=D[1],F=Object(a.useState)(""),I=Object(l.a)(F,2),J=I[0],T=I[1],x=""===C?t:t.filter((function(e){return-1!==e.name.toLowerCase().search(C.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(b,{noti:L}),r.a.createElement(E,{message:J}),r.a.createElement(o,{handleFilterName:function(e){y(e.target.value)},filterName:C}),r.a.createElement("h3",null,"add a new"),r.a.createElement(i,{newName:d,newNum:j,handleNewName:function(e){p(e.target.value)},handleNewNum:function(e){O(e.target.value)},handleAddName:function(e){e.preventDefault();var n={name:d,number:j};h(n).then((function(e){var n={};t.forEach((function(e){var t=e.name;n[t]=t===d})),n[d]?alert("".concat(d," is already added to phonebook")):u(t.concat(e)),p(""),O("")})).then((function(){A("'".concat(n.name,"' was added to server")),setTimeout((function(){A(null)}),5e3)}))}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(m,{phoneList:x,onDelete:function(e){return function(){var n=t.find((function(n){return n.id===e}));window.confirm("Are you sure to delete")&&v(e).then(u(t.filter((function(n){return n.id!==e})))).catch((function(e){T("Information of '".concat(n.name,"' has already been deleted from server")),setTimeout((function(){T(null)}),5e3)}))}}}))});c.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.142dab6c.chunk.js.map